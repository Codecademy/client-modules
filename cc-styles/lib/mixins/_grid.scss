@import "layout";

/*
12 column grid

Styleguide 1.0
*/

@mixin grid-cols($margin) {
  [class*="grid-row"] {
    @include clearfix;

    &.grid-row--extra-margin-bottom {
      margin-bottom: percentage($margin);
    }

    > [class*="grid-col"] {

      &.grid-col--hide-if-empty:empty {
        display:none;
      }

      float: left;
      @include border-box;

      &.grid-col--float-right {
        float: right;
      }

      &.grid-col--no-float {
        float: none;
      }

      img {
        &:not(.no-rescale) {
          max-width: 100%;
          max-height: 100%;
        }

        &.fit-full {
          width: 100%;
        }
      }

      padding: 1rem;
      margin: percentage($margin / 2);

      &.grid-col--extra-margin-top {
        margin-top: percentage($margin);
      }

      &.grid-col--extra-margin-bottom {
        margin-bottom: percentage($margin);
      }

      &.grid-col--no-margin {
        margin: 0;
      }

      &.grid-col--no-padding {
        padding: 0;
      }

      &.grid-col--no-spacing {
        padding: 0;
        margin: 0;
      }

      &.grid-col--center {
        margin-left: auto;
        margin-right: auto;
        float: none;
      }

      &.grid-col--align-left {
        text-align: left;
      }

      &.grid-col--align-right {
        text-align: right;
      }

      &.grid-col--align-center {
        text-align: center;
        > * {
          margin-left: auto;
          margin-right: auto;
        }
      }
    }

    &.grid-row--hide-if-empty:empty {
      display:none;
    }

    @for $s from 1 through 12 {
      > .grid-col-#{$s} {
        width: percentage($s/12 - $margin);

        &.grid-col--no-margin,
        &.grid-col--no-spacing {
          width: percentage($s/12);
        }
      }
    }

    &:not(.grid-row--no-collapse) {
      @include devices(phone) {
        > [class*="grid-col"] {
          display: block;
          width: 98%;

          padding: 0.5rem;
          &.grid-col--no-padding,
          &.grid-col--no-spacing {
            padding: 0;
          }

          &.grid-col--no-margin,
          &.grid-col--no-spacing {
            width: 100%;
          }
        }
      }
    }
  }
}

