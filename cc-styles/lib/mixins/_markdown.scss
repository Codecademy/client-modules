
/*  markdown styling

    inputs:
      - base font-size: *require input*
      - code-font-family: monospace
      - code-color: $color-grey4
      - code-background-color: $color-grey1
      - blockquote-color: $color-grey4
      - blockquote-border-color: $color-grey4
      - blockquote-border-width: 0.25rem

    issues:
      - this is really repetitive w/ base typography class
 */

@mixin markdown-theme(
  $base-font-size: 1rem,
  $base-font-color: $color-grey5,
  $code-font-family: monospace,
  $code-color: $color-grey5,
  $code-background-color: darken($color-grey1, 5%),
  $blockquote-color: $color-grey4,
  $blockquote-border-color: $color-grey4,
  $blockquote-border-width: 1rem,
  $blockquote-font-size: 0.875em) {

  font-size: $base-font-size;

  p {
    color: $base-font-color !important;
  }

  p, a {
    font-size: 1em;
    line-height: 1.375;
  }

  h1 {
    font-size: 2.5em;
    line-height: 1.15;
  }

  h2 {
    font-size: 2em;
    line-height: 1.1875;
  }

  h3 {
    font-size: 1.625em;
    line-height: 1.230;
  }

  h4 {
    font-size: 1.125em;
    line-height: 1.333;
    text-transform: uppercase;
  }

  h5 {
    font-size: 1.125em;
    line-height: 1.333;
  }

  a {
    @include apply-color(color, accent);
    text-decoration: none;
    &:hover { text-decoration: none; }
  }

  small {
    font-size: 0.875em;
    line-height: 1.428;
  }

  p + h1, p + h2, p + h3, p + h4, p + h5 {
    margin-top: 2rem;
  }

  p > img {
    margin: 1rem 0;
  }

  // CRAP BEGIN
  // TODO(andy) fix this shit.
  // -- when content gets merged in.. i need to include the prettify css.

  pre {
    code {
      @include padding(1);
      @include margin(1, bottom);
      width: 100%;
      display: inline-block;
    }
  }

  code {
    display: inline-block;
    padding: 0.1 * $base-font-size;

    color: $code-color;
    background-color: $code-background-color;
    font-family: $code-font-family;
    font-size: 0.8 * $base-font-size;
    line-height: $base-font-size * (22/16);
  }

  // END

  blockquote {
    padding-left: 1em;
    border-left: 0.25em solid $blockquote-border-color;
    font-size: $blockquote-font-size;
    line-height: 1.375;
  }

  ul, ol {
    display: table;
    padding-bottom: 1em;

    li {
      display: table-row;
      &:before { display: table-cell; }
    }
  }
}

